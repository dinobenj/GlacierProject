install.packages("rgdal")
install.packages("rgdal")
install.packages("ggplot2")
install.packages("httr")
install.packages("jsonlite")
setwd("C:/Users/klinga/GlacierProject/GLACIER API")
library(raster)
#library(Rtools)
library(rgdal)
library(httr)
library(rjson)
library(jsonlite)
# parse through raster data to find geotiff link
# download the geotiff link? or maybe just keep it on the stack
# then use the code below to open the graph
# get request for raster data from NASA PMM API
dat <- GET("https://pmmpublisher.pps.eosdis.nasa.gov/opensearch",
query = list(q="precip_30mn", lat = -75.5000, long = -106.7500,
startTime = 2023-03-14, endTime = 2023-03-16))
# abort if the API call is bad
stop_for_status(dat)
# what's in the API data
str(content(dat, "parsed"))
#headers(dat)
#tmp <- dat$request$url
#tmp <- fromJSON(content(dat, "parsed"))
# reading the data from
temp <- content(dat, as = "parsed")
temp <- content(dat, as = "text")
#temp <- as.data.frame(dat)
#temp <- fromJSON(dat)
# open raster data
lidar_dsm <- raster(x = "gpm_7d.20230131(2).tif")
# plot raster data
plot(lidar_dsm,
main = "Lidar Digital Elevation Model (DSM)")
library(raster)
#library(Rtools)
library(rgdal)
library(httr)
library(rjson)
library(jsonlite)
library(reticulate)
py_install('requests')
source_python('API_call_import.py')
#precip_data <- raster(x = get_geotiff(3.4653, 62.2159))
precip_data  <- raster(x = get_geotiff(25.2975, 91.5826))
#precip_data <- raster(x = get_geotiff(76.7000, 41.2000)) doens't work?
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
source_python('API_call_import.py')
url <- get_geotiff(3.4653, 62.2159)
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
print("File is deleted..")
}
curl_download(url, destfile = "precip_data.tif")
library(raster)
#library(Rtools)
library(rgdal)
library(httr)
library(rjson)
library(jsonlite)
library(reticulate)
library(curl)
source_python('API_call_import.py')
url <- get_geotiff(3.4653, 62.2159)
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
print("File is deleted..")
}
curl_download(url, destfile = "precip_data.tif")
#download.file(get_geotiff(25.2975, 91.5826), destfile = "precip_data.tif")
#download.file(url, paste0('n0r_', sub(".*\\b(\\d+).*", "\\1", url), '.tif'), method = 'curl')
precip_data  <- raster("precip_data.tif")
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
source_python('API_call_import.py')
url <- get_geotiff(29.5160, 103.3347)
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
print("File is deleted..")
}
curl_download(url, destfile = "precip_data.tif")
#download.file(get_geotiff(25.2975, 91.5826), destfile = "precip_data.tif")
#download.file(url, paste0('n0r_', sub(".*\\b(\\d+).*", "\\1", url), '.tif'), method = 'curl')
precip_data  <- raster("precip_data.tif")
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
url
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
}
curl_download(url, destfile = "precip_data.tif")
precip_data <- raster("precip_data.tif")
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
precip_data <- NULL
precip_data <- raster("precip_data.tif")
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 50), ylim=c(0, 50))
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 80), ylim=c(0, 80))
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)",
xlim=c(0, 100), ylim=c(0, 100))
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)")
source_python('API_call_import.py')
url <- get_geotiff(29.5160, 103.3347)
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
}
curl_download(url, destfile = "precip_data.tif")
#download.file(get_geotiff(25.2975, 91.5826), destfile = "precip_data.tif")
#download.file(url, paste0('n0r_', sub(".*\\b(\\d+).*", "\\1", url), '.tif'), method = 'curl')
precip_data <- NULL
precip_data <- raster("precip_data.tif")
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)")
source_python('API_call_import.py')
url <- get_geotiff(3.4653, 62.2159)
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
}
curl_download(url, destfile = "precip_data.tif")
#download.file(get_geotiff(25.2975, 91.5826), destfile = "precip_data.tif")
#download.file(url, paste0('n0r_', sub(".*\\b(\\d+).*", "\\1", url), '.tif'), method = 'curl')
precip_data <- NULL
precip_data <- raster("precip_data.tif")
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)")
url <- get_geotiff(25.2975, 91.5826)
if (file.exists("precip_data.tif")) {
unlink("precip_data.tif")
}
curl_download(url, destfile = "precip_data.tif")
#download.file(get_geotiff(25.2975, 91.5826), destfile = "precip_data.tif")
#download.file(url, paste0('n0r_', sub(".*\\b(\\d+).*", "\\1", url), '.tif'), method = 'curl')
precip_data <- NULL
precip_data <- raster("precip_data.tif")
# plot raster data
par(mar = c(1, 1, 1, 1))
plot(precip_data,
main = "Percipitation Visualization 1 (DSM)")
# put fonts on graph
